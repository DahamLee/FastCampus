# day15 - 장고 기초

### 장고에서는 컨트롤러를 view라고 한다.

```
누군가가 서버에 웹 사이트를 요청하면 어떤 일이 벌어질까요?

웹 서버에 요청이 오면 장고로 전달됩니다. 장고 urlresolver는 웹 페이지의 주소를 가져와 무엇을 할지 확인합니다.(urlresolver는 웹 사이트 주소인 URL(Uniform Resource Locator)를 통해 이해합니다). 이 urlreslover는 그리 똑똑하지 않습니다. 패턴 목록을 가져와 URL과 맞는지 처음부터 하나씩 대조해 식별합니다. 만약 일치하는 패턴이있으면, 장고는 해당 요청을 관련된 함수(view)에 넘겨줍니다

집배원을 생각해보세요. 집배원은 거리를 걸으며 집집이 편지와 대조해서 주소와 번지를 확인합니다. 주소와 번지가 일치하면 그곳에 편지를 배달합니다. urlresolver가 바로 집배원과 같은 역할을 합니다.

모든 재미난 일들은 view 함수에서 처리됩니다: 특정 정보를 데이터베이스에서 찾을 수 있습니다. 그런데 만약 사용자가 데이터를 바꿔달라고 수정을 요청한다면 어떻게 될까요? "제 직업에 대한 설명을 바꿔주세요."와 같은 편지를 받았다고 생각해봅시다. view함수는 수정할 수 있는 권한이 있는지 확인하고 나서, 직업에 대한 설명을 수정해 다시 답장을 주겠지요. "완료했습니다!" 라고요. 그러고 나서 view는 답장을 생성하여, 장고는 그 답장을 그 사용자의 웹 브라우저에 보내주는 역할을 합니다.

물론 지금까지의 설명은 아주 간단히 설명한 것에 불과해요. 하지만 모든 기술적인 부분까지 자세히 알 필요가 없답니다. 이 정도 아는 것만으로도 충분하답니다.

좀 더 자세히 아는 것보다, 지금부터는 장고를 이용해 간단한 것부터 만들어봐요. 그렇게 하면서 중요한 모든 것들을 하나씩 배워나가도록 해요.
```

### 장고에서는 mvc => mtv (model view controller에서 model templete view) 로 된다.

<hr>
<hr>

# 장고 설치 과정(중요):

### 장고 폴더를 생성 후

### pip install django

### django-admin startproject mysite .

### 위와 같이 실행하면 하위 폴더들이 생성 된다.

```
manage.py : 스크립트인데, 사이트 관리를 도와주는 역할을 합니다.
이 스크립트로 다른 설치 작업 없이, 컴퓨터에서 웹 서버를 시작할 수 있습니다.
```

```
settings.py : 웹사이트 설정이 있는 파일입니다.
```

```
urls.py : urlresolver가 사용하는 패턴 목록을 포함하고 있습니다.
```

### python manage.py runserver : 서버 시작

### 장고 모델:

```
장고 안의 모델은 객체의 특별한 종류입니다. 이 모델을 저장하면 그 내용이 데이터베이스에 저장되는 것이 특별한 점이죠.
데이터베이스란 데이터의 집합입니다. 데이터들이 모여있는 곳이지요.
이곳에 사용자에 대한 정보나 여러분의 블로그 글 등등이 저장되어 있습니다.
우린 데이터를 저장하기 위해서 여러가지 데이터베이스를 입맛에 맞게 고를 수 있는데요,
여기서는 SQLite 데이터베이스를 사용하겠습니다.
'sqlite 데이터베이스는 기본 장고 데이터베이스 어댑터입니다.
'라는 것까지만 알고 있어도 충분해요.
어댑터가 무엇인지를 알려면 내용이 너무 길어지니 일단 여기까지만 알고 계세요.

쉽게 말해 데이터베이스 안의 모델이란 엑셀 스프레드 시트와 같다고 말할 수 있어요.
엑셀 스프레드 시트를 보면 열(필드)와 행(데이터)로 구성되어 있죠? 모델도 마찬가지입니다.
```

### 어플리케이션 만들기
`./manage.py startapp blog`

```
blog 디렉토리가 생성되고 그 안에 여러 파일도 같이 들어감
```

**애플리케이션을 생성한 후 장고에 사용해야 한다고 알려줘야 함. 이 역할을 하는 파일이 `mysite/settings.py`입니다. 이 파일 안에서 `INSTALLED_APPS`를 열어 `'blog'`를 추가**

### 데이터베이스에 모델을 위한 테이블 만들기
`./manage.py makemigrations blog`
**장고는 데이터베이스에 지금 반영할 수 있도록 마이그레이션 파일 이라는 것을 준비해두었습니다.**

`./manage.py migrate blog`
**위의 코드를 실행해서 실제 데이터베이스에 모델 추가를 반영합니다.**

### 장고 관리자
blog/admin.py 에 아래의 코드를 작성하면 장고 관리자에서 추가하거나 수정 삭제 할 수 있습니다.

```
from django.contrib import admin
from .models import Post

admin.site.register(Post)
```
커맨드창에서 아래의 코드를 작성하고 사용자 권한 등록한다.

```
python manage.py createsuperuser
```
### 로컬서버+/admin
위의 주소로 들어가서 데이터베이스에 정보 기입

### URL

```
웹 서버에 요청이 오면 장고로 전달됩니다. 장고 urlresolver는 웹 페이지의 주소를 가져와 무엇을 할지 확인합니다.(urlresolver는 웹 사이트 주소인 URL(Uniform Resource Locator)를 통해 이해합니다). 이 urlreslover는 그리 똑똑하지 않습니다. 패턴 목록을 가져와 URL과 맞는지 처음부터 하나씩 대조해 식별합니다. 만약 일치하는 패턴이있으면, 장고는 해당 요청을 관련된 함수(view)에 넘겨줍니다
```


### 템플릿 동적 데이터
`views.py` : 모델과 템플릿을 연결하는 역할을 합니다.

### model : database관리
### template : html
### views.py : 중간 control